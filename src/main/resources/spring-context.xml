<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd">

    <context:property-placeholder location="classpath:application.properties"/>

    <bean id="questionDao" class="ru.otus.spring.quiz.dao.CsvQuestionDao">
        <constructor-arg name="sourceFile" value="${questions-csv-file}" type="java.lang.String"/>
    </bean>

    <bean id="fixedQuestionService" class="ru.otus.spring.quiz.service.impl.FixedQuestionService">
        <constructor-arg name="questionDao" ref="questionDao"/>
        <constructor-arg name="questionsPerSession" value="${questions-per-quiz}" type="int"/>
    </bean>

    <bean id="randomQuestionService" class="ru.otus.spring.quiz.service.impl.RandomQuestionService">
        <constructor-arg name="questionDao" ref="questionDao"/>
        <constructor-arg name="questionsPerSession" value="${questions-per-quiz}" type="int"/>
    </bean>

    <bean id="interactionService" class="ru.otus.spring.quiz.service.impl.ConsoleInteractionService">
    </bean>

    <bean id="reportService" class="ru.otus.spring.quiz.service.impl.ConsoleReportService">
    </bean>

    <bean id="quizService" class="ru.otus.spring.quiz.service.QuizService">
        <constructor-arg name="interactionService" ref="interactionService"/>
        <constructor-arg name="questionService" ref="fixedQuestionService"/>
        <constructor-arg name="reportService" ref="reportService"/>
    </bean>
</beans>
